/*!
 * Error tracking for Snowplow v3.3.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(n,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((n="undefined"!=typeof globalThis?globalThis:n||self).snowplowErrorTracking={})}(this,(function(n){function o(n,o,e){if(e||2===arguments.length)for(var r,t=0,c=o.length;t<c;t++)!r&&t in o||(r||(r=Array.prototype.slice.call(o,0,t)),r[t]=o[t]);return n.concat(r||o)}function e(n,o){void 0===o&&(o=Object.keys(a));var e=n.message,r=n.filename,t=n.lineno,i=n.colno,l=n.error,s=n.context,u=n.timestamp,f=l&&l.stack?l.stack:null;!function(n,o,e){try{var r=null!=n?n:Object.keys(o);n=[];for(var t=0;t<r.length;t++){var a=r[t];o.hasOwnProperty(a)?n.push(o[a]):c.warn(a+" not configured")}n.forEach(e)}catch(n){c.error("Function failed",n)}}(o,a,(function(n){var o=(n=n.core).track,c={programmingLanguage:"JAVASCRIPT",message:null!=e?e:"JS Exception. Browser doesn't support ErrorEvent API",stackTrace:f,lineNumber:t,lineColumn:i,fileName:r},a=function(){var n,o={},e=[],r=[],t=function(n,e){null!=e&&""!==e&&(o[n]=e)};return{add:t,addDict:function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t(o,n[o])},addJson:function(n,o,t){var c;if(c=t)n:{if(null!=t&&(t.constructor==={}.constructor||t.constructor===[].constructor))for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){c=!0;break n}c=!1}c&&(n={keyIfEncoded:n,keyIfNotEncoded:o,json:t},r.push(n),e.push(n))},getPayload:function(){return o},getJson:function(){return e},withJsonProcessor:function(o){n=o},build:function(){return null==n||n(this,r),o}}}();c={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:"iglu:com.snowplowanalytics.snowplow/application_error/jsonschema/1-0-1",data:c}},a.add("e","ue"),a.addJson("ue_px","ue_pr",c),o.call(n,a,s,u)}))}var r,t;(t=r||(r={}))[t.none=0]="none",t[t.error=1]="error",t[t.warn=2]="warn",t[t.debug=3]="debug",t[t.info=4]="info";var c=function(n){return void 0===n&&(n=r.warn),{setLogLevel:function(o){n=r[o]?o:r.warn},warn:function(e,t){for(var c=[],a=2;a<arguments.length;a++)c[a-2]=arguments[a];n>=r.warn&&"undefined"!=typeof console&&(a="Snowplow: "+e,t?console.warn.apply(console,o([a+"\n",t],c)):console.warn.apply(console,o([a],c)))},error:function(e,t){for(var c=[],a=2;a<arguments.length;a++)c[a-2]=arguments[a];n>=r.error&&"undefined"!=typeof console&&(a="Snowplow: "+e+"\n",t?console.error.apply(console,o([a+"\n",t],c)):console.error.apply(console,o([a],c)))},debug:function(e){for(var t=[],c=1;c<arguments.length;c++)t[c-1]=arguments[c];n>=r.debug&&"undefined"!=typeof console&&console.debug.apply(console,o(["Snowplow: "+e],t))},info:function(e){for(var t=[],c=1;c<arguments.length;c++)t[c-1]=arguments[c];n>=r.info&&"undefined"!=typeof console&&console.info.apply(console,o(["Snowplow: "+e],t))}}}(),a={};n.ErrorTrackingPlugin=function(){return{activateBrowserPlugin:function(n){a[n.id]=n}}},n.enableErrorTracking=function(n,o){void 0===n&&(n={}),void 0===o&&(o=Object.keys(a));var r=n.filter,t=n.contextAdder,c=n.context;!function(n,o,e,r){n.addEventListener?n.addEventListener(o,e,r):n.attachEvent?n.attachEvent("on"+o,e):n["on"+o]=e}(window,"error",(function(n){if(r&&r&&"function"==typeof r&&r(n)||null==r){var a=o,i=c||[];t&&t&&"function"==typeof t&&(i=i.concat(t(n))),e({message:n.message,filename:n.filename,lineno:n.lineno,colno:n.colno,error:n.error,context:i},a)}}),!0)},n.trackError=e,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
